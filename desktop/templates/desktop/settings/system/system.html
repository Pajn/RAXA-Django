{% load i18n %}
{% load url from future %}
<div id="subsettings">
    <div id="subsettingsmenu">
        <ul>
            <li><input type="button" data-id="connectors" value="{% trans "Connectors" %}"
                       class="button biggerbutton vertical submenu top {% if subtype == 'connectors' %}verticalSelected{% endif %}"/>
            </li>
            <li><input type="button" data-id="network" value="{% trans "Network" %}"
                       class="button biggerbutton vertical submenu {% if subtype == 'network' %}verticalSelected{% endif %}"/>
            </li>
            <li><input type="button" data-id="security" value="{% trans "Security" %}"
                       class="button biggerbutton vertical submenu {% if subtype == 'security' %}verticalSelected{% endif %}"/>
            </li>
            <li><input type="button" data-id="updates" value="{% trans "Updates" %}"
                       class="button biggerbutton vertical submenu {% if subtype == 'updates' %}verticalSelected{% endif %}"/>
            </li>
            <li><input type="button" data-id="themes" value="{% trans "Themes" %}"
                       class="button biggerbutton vertical submenu bottom {% if subtype == 'themes' %}verticalSelected{% endif %}"/>
            </li>
        </ul>
    </div>
    <div id="subsettingsoptions" class="border bottom">
        {% if subtype %}
            {% with "desktop/settings/system/"|add:subtype|add:"/"|add:subtype|add:".html" as template %}
                {% include template %}
            {% endwith %}
        {% endif %}
    </div>
</div>
<script type="text/javascript">
    $('.submenu').click(function () {
        $('.submenu').removeClass('verticalSelected');
        $(this).addClass('verticalSelected');
        var type = $(this).attr("data-id");
        $("#Soptions").load('{% url 'desktop.views.settings' type='system' %}', {'subtype': type}, function () {
            window.history.pushState('', 'RAXA - ' + $(this).val(), '/{{ LANGUAGE_CODE }}/settings/system/' + type + '/');
        });
    });
    {% if subtype %}
        window.setTimeout(function () {
            window.history.pushState('', 'RAXA - {{ subtype }}', '/{{ LANGUAGE_CODE }}/settings/system/{{ subtype }}/');
        }, 10);
    {% endif %}
</script>